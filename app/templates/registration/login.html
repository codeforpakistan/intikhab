{% extends "app/layouts/base.html" %}
{% load socialaccount %}

{% block page %}
<div class="d-flex vh-100 w-100 align-items-center justify-content-center bg-primary-subtle">
  <div class="text-center" style="min-width: 400px; max-width: 450px;">
    
    <!-- Title and Subtitle -->
    <div class="mb-4">
      <h1 class="h2 fw-thin text-dark mb-2">Welcome back!</h1>
      <p class="text-muted mb-0">Sign in to your Intikhab account</p>
    </div>
    
    <!-- Login Card -->
    <div class="card border-0 rounded-3">
    <div class="card-body text-start">
      
      <!-- Google Login Button -->
      <div class="d-grid mb-4">
        <a href="{% provider_login_url 'google' %}" class="btn btn-light">
          <i class="bi bi-google me-2 text-danger"></i>Continue with Google
        </a>
      </div>

      <!-- Divider -->
      <div class="d-flex align-items-center mb-4">
        <hr class="flex-grow-1">
        <span class="px-3 text-muted small">Or sign in with email</span>
        <hr class="flex-grow-1">
      </div>

      <!-- Traditional Login Form -->
      <form action="{% url 'login' %}" method="post">
        {% csrf_token %}
        
        {% if form.errors %}
          <div class="alert alert-danger mb-4">
            {% for field in form %}
              {% for error in field.errors %}
                <div>{{ error }}</div>
              {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
              <div>{{ error }}</div>
            {% endfor %}
          </div>
        {% endif %}

        <div class="mb-3">
          <label for="email" class="form-label text-muted small fw-medium">Email address</label>
          <input class="form-control form-control" type="text" name="username" id="email" placeholder="Email address" required>
        </div>
        
        <div class="mb-4">
          <label for="password" class="form-label text-muted small fw-medium">Password</label>
          <input class="form-control form-control" type="password" name="password" id="password" placeholder="Password" required>
        </div>
        
        <div class="d-flex justify-content-between align-items-center mb-4">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="remember" name="remember">
            <label class="form-check-label text-muted" for="remember">
              Remember me
            </label>
          </div>
          <a href="#" class="text-decoration-none small">Forgot your password?</a>
        </div>
        
        <div class="d-grid mb-4">
          <button class="btn btn-primary" type="submit">Sign in</button>
        </div>
      </form>

      <div class="text-center">
        <span class="text-muted">Don't have an account? </span>
        <a href="{% url 'account_signup' %}" class="text-decoration-none fw-medium">Sign up here</a>
      </div>
      
    </div>
    
  </div>
</div>
{% endblock %}
