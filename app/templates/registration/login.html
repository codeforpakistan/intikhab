{% extends "app/layouts/base.html" %}
{% load socialaccount %}

{% block page %}
<div class="d-flex vh-100 w-100 align-items-center justify-content-center bg-success">
  <div class="card card-body bg-white border-0" style="min-width: 400px; max-width: 500px;">
    <h5 class="card-title mb-4 text-center">Login to Intikhab</h5>

    <!-- Google Login Button -->
    <div class="d-grid mb-3">
      <a href="{% provider_login_url 'google' %}" class="btn btn-danger btn-lg">
        <i class="bi bi-google me-2"></i>Continue with Google
      </a>
    </div>

    <!-- Divider -->
    <div class="d-flex align-items-center mb-3">
      <hr class="flex-grow-1">
      <span class="px-3 text-muted small">OR</span>
      <hr class="flex-grow-1">
    </div>

    <!-- Traditional Login Form -->
    <form action="{% url 'login' %}" method="post">
      {% csrf_token %}
      
      {% if form.errors %}
        <div class="alert alert-danger">
          {% for field in form %}
            {% for error in field.errors %}
              <div>{{ error }}</div>
            {% endfor %}
          {% endfor %}
          {% for error in form.non_field_errors %}
            <div>{{ error }}</div>
          {% endfor %}
        </div>
      {% endif %}

      <div class="mb-3">
        <input class="form-control" type="text" name="username" placeholder="Username or Email" required>
      </div>
      <div class="mb-3">
        <input class="form-control" type="password" name="password" placeholder="Password" required>
      </div>
      <div class="d-grid">
        <button class="btn btn-primary" type="submit">Login</button>
      </div>
    </form>

    <div class="text-center mt-3">
      <small class="text-muted">
        Don't have an account? <a href="{% url 'account_signup' %}" class="text-decoration-none">Sign up</a>
      </small>
    </div>
  </div>
</div>
{% endblock %}
